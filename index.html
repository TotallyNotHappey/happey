<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image" href="fav-icon.png">
	<meta name="theme-color" content="#0091ff">
	<meta content="Happey" property="og:title" />
	<meta content="I like to animate and shit" property="og:description" />
	<meta content="https://totallynothappey.github.io/happey.github.io/" property="og:url" />
	<link rel="stylesheet" href="style.css">
	<title>Happey</title>
</head>

<script>
function switchPage(idToShow) {
	document.querySelectorAll('.page').forEach(page => {
		page.style.display = 'none';
	});
	document.getElementById(idToShow).style.display = 'block';
}
</script>

<body id="body">
<div class="center" style="margin-top: 40px;">

<!-- home page -->
<div id="homePage" class="page">
	
	<h1>Happey</h1>
		
	<p>Enby that can animate on Roblox</p>

	<div class="div-line" id="bold"></div>

	<div class="hCon">
		<p>Roblox Profile</p>
		<div class="vbCon">
			<div class="outline">
			<a href="https://www.roblox.com/users/401257777/profile" class="anchor" style="color: #fff">Roblox Profile</a>
			</div>
		</div>
	</div>

	<div class="div-line"></div>

	<div class="hCon" id="border">
		<img src="profile.png" alt="Miau" id="small">
			
		<p>This page is still in progress btw<br>Nothing much to show for now, but you can check my other socials here. Discord user is MaybeWasAngery btw</p>

		<div class="outline">
			<a href="https://www.youtube.com/@TotallyNotHappey" class="anchor" style="color: #fff">YouTube</a>
		</div>
	</div>
</div>
<!-- AUDIO PLAYER -->
<!-- AUDIO PLAYER -->
<audio id="bgAudio" loop>
  <source src="RUSHER.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- PLAY/PAUSE BUTTON -->
<button id="playPauseBtn" style="
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  padding: 10px 15px;
  background-color: #0091ff;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
">Play</button>

<!-- AUDIO VISUALIZER CANVAS -->
<canvas id="visualizer" width="100" height="300" style="
  position: fixed;
  bottom: 70px;
  left: 20px;
  background: #111;
  border-radius: 6px;
  z-index: 999;
"></canvas>
>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const audio = document.getElementById("bgAudio");
  const btn = document.getElementById("playPauseBtn");
  const canvas = document.getElementById("visualizer");
  const ctx = canvas.getContext("2d");

  let isPlaying = false;

  // Web Audio API setup
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const analyser = audioCtx.createAnalyser();
  analyser.fftSize = 64;
  const source = audioCtx.createMediaElementSource(audio);
  source.connect(analyser);
  analyser.connect(audioCtx.destination);
  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  // Draw visualizer bars
  function draw() {
    requestAnimationFrame(draw);
    analyser.getByteFrequencyData(dataArray);

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const barWidth = (canvas.width / bufferLength) * 2.5;
    let x = 0;

    for (let i = 0; i < bufferLength; i++) {
      const barHeight = dataArray[i] / 2;
      ctx.fillStyle = `rgb(${barHeight + 100}, 150, 255);
      ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
      x += barWidth + 1;
    }
  }

  draw();

  // Play/pause toggle
  function togglePlay() {
    if (!isPlaying) {
      audioCtx.resume(); // resumes suspended context (required by browsers)
      audio.play().then(() => {
        isPlaying = true;
        btn.textContent = "Pause";
      });
    } else {
      audio.pause();
      isPlaying = false;
      btn.textContent = "Play";
    }
  }

  // Start audio on first body click (browser policy)
  let started = false;
  document.body.addEventListener("click", () => {
    if (!started) {
      audioCtx.resume(); // required in some browsers
      audio.play().then(() => {
        isPlaying = true;
        btn.textContent = "Pause";
        started = true;
      }).catch(err => {
        console.error("Autoplay error:", err);
      });
    }
  }, { once: true });

  btn.addEventListener("click", togglePlay);
});
</script>



</body>
</html>
